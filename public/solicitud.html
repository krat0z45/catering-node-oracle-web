<h2 style="color: #333;">Solicitud de Servicio</h2>

<form id="formSolicitud" style="max-width: 600px; margin: 0 auto; background: #f9f9f9; padding: 1.5rem; border-radius: 10px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
  <label for="nombre" style="display:block; margin-bottom: 0.3rem; font-weight: bold;">Nombre del solicitante:</label>
  <input type="text" id="nombre" name="nombre" required style="width: 100%; padding: 0.5rem; margin-bottom: 1rem; border: 1px solid #ccc; border-radius: 4px;">

  <label for="correo" style="display:block; margin-bottom: 0.3rem; font-weight: bold;">Correo electrónico:</label>
  <input type="email" id="correo" name="correo" required style="width: 100%; padding: 0.5rem; margin-bottom: 1rem; border: 1px solid #ccc; border-radius: 4px;">

  <label for="fecha" style="display:block; margin-bottom: 0.3rem; font-weight: bold;">Fecha del evento:</label>
  <input type="date" id="fecha" name="fecha" required style="width: 100%; padding: 0.5rem; margin-bottom: 1rem; border: 1px solid #ccc; border-radius: 4px;">

  <label for="num_personas" style="display:block; margin-bottom: 0.3rem; font-weight: bold;">Número de personas:</label>
  <input type="number" id="num_personas" name="num_personas" required style="width: 100%; padding: 0.5rem; margin-bottom: 1rem; border: 1px solid #ccc; border-radius: 4px;">

  <label for="mensaje" style="display:block; margin-bottom: 0.3rem; font-weight: bold;">Detalles o requerimientos especiales:</label>
  <textarea id="mensaje" name="mensaje" rows="5" style="width: 100%; padding: 0.5rem; border: 1px solid #ccc; border-radius: 4px;"></textarea>

  <button type="submit" style="margin-top: 1rem; padding: 0.7rem 1.5rem; background-color: #007bff; color: white; border: none; border-radius: 6px; cursor: pointer; font-size: 1rem;">Enviar solicitud</button>
</form>

<p id="msgSolicitud" style="text-align: center; margin-top: 1rem; font-weight: bold;"></p>

<script>
  document.getElementById('formSolicitud').addEventListener('submit', async function (e) {
    e.preventDefault();

    const datos = {
      nombre: document.getElementById('nombre').value,
      correo: document.getElementById('correo').value,
      fecha: document.getElementById('fecha').value,
      num_personas: document.getElementById('num_personas').value,
      mensaje: document.getElementById('mensaje').value,
    };

    const res = await fetch('/api/solicitud', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify(datos)
    });

    const msg = document.getElementById('msgSolicitud');
    if (res.ok) {
      msg.textContent = '✅ Solicitud enviada correctamente. El gerente se pondrá en contacto.';
      msg.style.color = 'green';
      document.getElementById('formSolicitud').reset();
    } else {
      msg.textContent = '❌ Ocurrió un error al enviar la solicitud.';
      msg.style.color = 'red';
    }
  });
</script>

